{"ast":null,"code":"var delta=100;export default function(){var els=document.querySelectorAll('.js-parallax-me');Array.from(els).forEach(function(el){var speed=el.hasAttribute('data-prlx-speed')?parseInt(el.dataset.prlxSpeed,10):1;if(el.hasAttribute('data-prlx-from-top')){// el.style.transform = 'translateY(0px)';\nel.style.top='-'+delta*speed/3+'px';el.style.bottom='-'+delta*speed+'px';}else{// el.style.transform = 'translateY(' + delta / 2 + 'px)';\nel.style.top='-'+delta*speed/2+'px';el.style.bottom='-'+delta*speed/2+'px';}});function translate(e){var innerHeight=window.innerHeight;Array.from(els).forEach(function(el){var speed=el.hasAttribute('data-prlx-speed')?parseInt(el.dataset.prlxSpeed,10):1;var elementTop=el.getBoundingClientRect().top;var parentHeight=el.parentElement.getBoundingClientRect().height;if(elementTop+parentHeight<0||elementTop>innerHeight)return;if(el.hasAttribute('data-prlx-from-top')){var inFor=1-(elementTop+parentHeight)/parentHeight;var deltaVariation=inFor*(delta*speed);el.style.transform='translate3D(0, '+-deltaVariation+'px, 0)';}else{var _inFor=1-(elementTop+parentHeight)/(innerHeight+parentHeight);var _deltaVariation=_inFor*(delta*speed);el.style.transform='translate3D(0, '+(-_deltaVariation+delta*speed/2)+'px, 0)';}});}window.addEventListener('scroll',translate);translate();}","map":{"version":3,"sources":["/Users/cchan/Documents/GitHub/gpea-hongkong-pet-general_mc/src/scripts/parallax.js"],"names":["delta","els","document","querySelectorAll","Array","from","forEach","el","speed","hasAttribute","parseInt","dataset","prlxSpeed","style","top","bottom","translate","e","innerHeight","window","elementTop","getBoundingClientRect","parentHeight","parentElement","height","inFor","deltaVariation","transform","addEventListener"],"mappings":"AAAA,GAAMA,CAAAA,KAAK,CAAG,GAAd,CAEA,cAAe,WAAW,CACxB,GAAMC,CAAAA,GAAG,CAAGC,QAAQ,CAACC,gBAAT,CAA0B,iBAA1B,CAAZ,CAEAC,KAAK,CAACC,IAAN,CAAWJ,GAAX,EAAgBK,OAAhB,CAAwB,SAAAC,EAAE,CAAI,CAC5B,GAAMC,CAAAA,KAAK,CAAGD,EAAE,CAACE,YAAH,CAAgB,iBAAhB,EACVC,QAAQ,CAACH,EAAE,CAACI,OAAH,CAAWC,SAAZ,CAAuB,EAAvB,CADE,CAEV,CAFJ,CAGA,GAAIL,EAAE,CAACE,YAAH,CAAgB,oBAAhB,CAAJ,CAA2C,CACzC;AACAF,EAAE,CAACM,KAAH,CAASC,GAAT,CAAe,IAAOd,KAAK,CAAGQ,KAAT,CAAkB,CAAxB,CAA4B,IAA3C,CACAD,EAAE,CAACM,KAAH,CAASE,MAAT,CAAkB,IAAMf,KAAK,CAAGQ,KAAd,CAAsB,IAAxC,CACD,CAJD,IAIO,CACL;AACAD,EAAE,CAACM,KAAH,CAASC,GAAT,CAAe,IAAOd,KAAK,CAAGQ,KAAT,CAAkB,CAAxB,CAA4B,IAA3C,CACAD,EAAE,CAACM,KAAH,CAASE,MAAT,CAAkB,IAAOf,KAAK,CAAGQ,KAAT,CAAkB,CAAxB,CAA4B,IAA9C,CACD,CACF,CAbD,EAeA,QAASQ,CAAAA,SAAT,CAAmBC,CAAnB,CAAsB,CACpB,GAAMC,CAAAA,WAAW,CAAGC,MAAM,CAACD,WAA3B,CACAd,KAAK,CAACC,IAAN,CAAWJ,GAAX,EAAgBK,OAAhB,CAAwB,SAAAC,EAAE,CAAI,CAC5B,GAAMC,CAAAA,KAAK,CAAGD,EAAE,CAACE,YAAH,CAAgB,iBAAhB,EACVC,QAAQ,CAACH,EAAE,CAACI,OAAH,CAAWC,SAAZ,CAAuB,EAAvB,CADE,CAEV,CAFJ,CAGA,GAAMQ,CAAAA,UAAU,CAAGb,EAAE,CAACc,qBAAH,GAA2BP,GAA9C,CACA,GAAMQ,CAAAA,YAAY,CAAGf,EAAE,CAACgB,aAAH,CAAiBF,qBAAjB,GAAyCG,MAA9D,CACA,GAAIJ,UAAU,CAAGE,YAAb,CAA4B,CAA5B,EAAiCF,UAAU,CAAGF,WAAlD,CAA+D,OAC/D,GAAIX,EAAE,CAACE,YAAH,CAAgB,oBAAhB,CAAJ,CAA2C,CACzC,GAAMgB,CAAAA,KAAK,CAAG,EAAI,CAACL,UAAU,CAAGE,YAAd,EAA8BA,YAAhD,CACA,GAAMI,CAAAA,cAAc,CAAGD,KAAK,EAAIzB,KAAK,CAAGQ,KAAZ,CAA5B,CACAD,EAAE,CAACM,KAAH,CAASc,SAAT,CAAqB,kBAAoB,CAACD,cAArB,CAAsC,QAA3D,CACD,CAJD,IAIO,CACL,GAAMD,CAAAA,MAAK,CACT,EAAI,CAACL,UAAU,CAAGE,YAAd,GAA+BJ,WAAW,CAAGI,YAA7C,CADN,CAEA,GAAMI,CAAAA,eAAc,CAAGD,MAAK,EAAIzB,KAAK,CAAGQ,KAAZ,CAA5B,CACAD,EAAE,CAACM,KAAH,CAASc,SAAT,CACE,mBACC,CAACD,eAAD,CAAmB1B,KAAK,CAAGQ,KAAT,CAAkB,CADrC,EAEA,QAHF,CAID,CACF,CApBD,EAqBD,CAEDW,MAAM,CAACS,gBAAP,CAAwB,QAAxB,CAAkCZ,SAAlC,EACAA,SAAS,GACV","sourcesContent":["const delta = 100;\n\nexport default function() {\n  const els = document.querySelectorAll('.js-parallax-me');\n\n  Array.from(els).forEach(el => {\n    const speed = el.hasAttribute('data-prlx-speed')\n      ? parseInt(el.dataset.prlxSpeed, 10)\n      : 1;\n    if (el.hasAttribute('data-prlx-from-top')) {\n      // el.style.transform = 'translateY(0px)';\n      el.style.top = '-' + (delta * speed) / 3 + 'px';\n      el.style.bottom = '-' + delta * speed + 'px';\n    } else {\n      // el.style.transform = 'translateY(' + delta / 2 + 'px)';\n      el.style.top = '-' + (delta * speed) / 2 + 'px';\n      el.style.bottom = '-' + (delta * speed) / 2 + 'px';\n    }\n  });\n\n  function translate(e) {\n    const innerHeight = window.innerHeight;\n    Array.from(els).forEach(el => {\n      const speed = el.hasAttribute('data-prlx-speed')\n        ? parseInt(el.dataset.prlxSpeed, 10)\n        : 1;\n      const elementTop = el.getBoundingClientRect().top;\n      const parentHeight = el.parentElement.getBoundingClientRect().height;\n      if (elementTop + parentHeight < 0 || elementTop > innerHeight) return;\n      if (el.hasAttribute('data-prlx-from-top')) {\n        const inFor = 1 - (elementTop + parentHeight) / parentHeight;\n        const deltaVariation = inFor * (delta * speed);\n        el.style.transform = 'translate3D(0, ' + -deltaVariation + 'px, 0)';\n      } else {\n        const inFor =\n          1 - (elementTop + parentHeight) / (innerHeight + parentHeight);\n        const deltaVariation = inFor * (delta * speed);\n        el.style.transform =\n          'translate3D(0, ' +\n          (-deltaVariation + (delta * speed) / 2) +\n          'px, 0)';\n      }\n    });\n  }\n\n  window.addEventListener('scroll', translate);\n  translate();\n}\n"]},"metadata":{},"sourceType":"module"}